<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">
    <title>Price List - Laurin Build</title>
    <meta name="theme-color" content="{{ theme_color|default('#222222') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            /* Default coffee theme variables */
            --accent1: #8B4513;
            --accent2: #D2691E;
            --accent3: #CD853F;
            --accent4: #DEB887;
            --accent5: #F5DEB3;
            --accent6: #FFF8DC;
            --accent7: #FFFAF0;
            --gradient-main: linear-gradient(135deg, #8B4513 0%, #A0522D 15%, #D2691E 30%, #CD853F 45%, #DEB887 60%, #F5DEB3 75%, #FFF8DC 90%, #FFFAF0 100%);
            --container-bg: linear-gradient(135deg, rgba(250, 248, 245, 0.95) 0%, rgba(245, 222, 179, 0.9) 30%, rgba(255, 248, 220, 0.95) 70%, rgba(250, 240, 230, 0.9) 100%);
            --container-shadow: 0 20px 40px rgba(139, 69, 19, 0.3), 0 8px 16px rgba(210, 105, 30, 0.2);
            --container-border: 2px solid rgba(139, 69, 19, 0.1);
            --text-primary: #2E2E2E;
            --text-secondary: #5D4E37;
            --button-primary: linear-gradient(135deg, #8B4513 0%, #D2691E 100%);
            --button-primary-hover: linear-gradient(135deg, #D2691E 0%, #8B4513 100%);
            
            background: var(--gradient-main);
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        /* Seasonal Theme Support */
        body[data-theme="spring"] {
            --accent1: #4CAF50;
            --accent2: #66BB6A;
            --accent3: #8BC34A;
            --accent4: #AED581;
            --accent5: #C8E6C9;
            --accent6: #DCEDC8;
            --accent7: #F1F8E9;
            --gradient-main: linear-gradient(135deg, #4CAF50 0%, #66BB6A 15%, #8BC34A 30%, #AED581 45%, #C8E6C9 60%, #DCEDC8 75%, #F1F8E9 90%, #FFFFFF 100%);
            --container-bg: linear-gradient(135deg, rgba(76, 175, 80, 0.1) 0%, rgba(102, 187, 106, 0.15) 30%, rgba(139, 195, 74, 0.1) 70%, rgba(174, 213, 129, 0.05) 100%);
            --container-shadow: 0 20px 40px rgba(76, 175, 80, 0.2), 0 8px 16px rgba(102, 187, 106, 0.15);
            --container-border: 2px solid rgba(76, 175, 80, 0.2);
            --text-primary: #1B5E20;
            --text-secondary: #2E7D32;
            --button-primary: linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%);
            --button-primary-hover: linear-gradient(135deg, #66BB6A 0%, #4CAF50 100%);
        }
        
        body[data-theme="summer"] {
            --accent1: #FF9800;
            --accent2: #FFB74D;
            --accent3: #FFC107;
            --accent4: #FFD54F;
            --accent5: #FFECB3;
            --accent6: #FFF3E0;
            --accent7: #FFF8E1;
            --gradient-main: linear-gradient(135deg, #FF9800 0%, #FFB74D 15%, #FFC107 30%, #FFD54F 45%, #FFECB3 60%, #FFF3E0 75%, #FFF8E1 90%, #FFFFFF 100%);
            --container-bg: linear-gradient(135deg, rgba(255, 152, 0, 0.1) 0%, rgba(255, 183, 77, 0.15) 30%, rgba(255, 193, 7, 0.1) 70%, rgba(255, 213, 79, 0.05) 100%);
            --container-shadow: 0 20px 40px rgba(255, 152, 0, 0.2), 0 8px 16px rgba(255, 183, 77, 0.15);
            --container-border: 2px solid rgba(255, 152, 0, 0.2);
            --text-primary: #E65100;
            --text-secondary: #F57C00;
            --button-primary: linear-gradient(135deg, #FF9800 0%, #FFB74D 100%);
            --button-primary-hover: linear-gradient(135deg, #FFB74D 0%, #FF9800 100%);
        }
        
        body[data-theme="autumn"] {
            --accent1: #FF5722;
            --accent2: #FF7043;
            --accent3: #FF9800;
            --accent4: #FFB74D;
            --accent5: #FFCC80;
            --accent6: #FFE0B2;
            --accent7: #FFF3E0;
            --gradient-main: linear-gradient(135deg, #FF5722 0%, #FF7043 15%, #FF9800 30%, #FFB74D 45%, #FFCC80 60%, #FFE0B2 75%, #FFF3E0 90%, #FFFFFF 100%);
            --container-bg: linear-gradient(135deg, rgba(255, 87, 34, 0.1) 0%, rgba(255, 112, 67, 0.15) 30%, rgba(255, 152, 0, 0.1) 70%, rgba(255, 183, 77, 0.05) 100%);
            --container-shadow: 0 20px 40px rgba(255, 87, 34, 0.2), 0 8px 16px rgba(255, 112, 67, 0.15);
            --container-border: 2px solid rgba(255, 87, 34, 0.2);
            --text-primary: #BF360C;
            --text-secondary: #D84315;
            --button-primary: linear-gradient(135deg, #FF5722 0%, #FF7043 100%);
            --button-primary-hover: linear-gradient(135deg, #FF7043 0%, #FF5722 100%);
        }
        
        body[data-theme="winter"] {
            --accent1: #2196F3;
            --accent2: #42A5F5;
            --accent3: #64B5F6;
            --accent4: #90CAF9;
            --accent5: #BBDEFB;
            --accent6: #E3F2FD;
            --accent7: #F3E5F5;
            --gradient-main: linear-gradient(135deg, #2196F3 0%, #42A5F5 15%, #64B5F6 30%, #90CAF9 45%, #BBDEFB 60%, #E3F2FD 75%, #F3E5F5 90%, #FFFFFF 100%);
            --container-bg: linear-gradient(135deg, rgba(33, 150, 243, 0.1) 0%, rgba(66, 165, 245, 0.15) 30%, rgba(100, 181, 246, 0.1) 70%, rgba(144, 202, 249, 0.05) 100%);
            --container-shadow: 0 20px 40px rgba(33, 150, 243, 0.2), 0 8px 16px rgba(66, 165, 245, 0.15);
            --container-border: 2px solid rgba(33, 150, 243, 0.2);
            --text-primary: #0D47A1;
            --text-secondary: #1565C0;
            --button-primary: linear-gradient(135deg, #2196F3 0%, #42A5F5 100%);
            --button-primary-hover: linear-gradient(135deg, #42A5F5 0%, #2196F3 100%);
        }
        
        .price-list-container {
            background: var(--container-bg);
            border-radius: 25px;
            box-shadow: var(--container-shadow);
            backdrop-filter: blur(20px);
            border: var(--container-border);
            padding: 2rem;
            margin: 2rem auto;
            max-width: 1200px;
        }
        
        .price-list-header { text-align:center; margin-bottom:2rem; padding-bottom:1rem; border-bottom:3px solid var(--accent1); }
        
        .price-list-title { color:var(--accent1); font-weight:700; margin-bottom:0.5rem; text-shadow:0 2px 4px rgba(0,0,0,0.2); }
        
        .price-list-subtitle { color:var(--accent2); font-size:1.1rem; font-weight:600; }
        
        .price-table {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(139, 69, 19, 0.2);
        }
        
        .price-table th { background: var(--gradient-accent); color:#fff; font-weight:600; padding:1rem; border:none; }
        
        .price-table td { padding:1rem; border-bottom:1px solid color-mix(in srgb, var(--accent1) 12%, transparent); vertical-align:middle; }
        
        .price-table tbody tr:hover { background: color-mix(in srgb, var(--accent1) 6%, transparent); }
        
        .beverage-name { font-weight:600; color:var(--accent1); }
        
        .price-cell { text-align:center; font-weight:600; color:var(--accent2); }
        
        .back-button { background: var(--gradient-accent); border:none; color:#fff; padding:0.75rem 1.5rem; border-radius:10px; font-weight:600; text-decoration:none; display:inline-block; transition:all .3s ease; box-shadow:0 4px 12px color-mix(in srgb,var(--accent1) 30%, transparent); }
        
        .back-button:hover { transform:translateY(-2px); box-shadow:0 6px 16px color-mix(in srgb,var(--accent1) 40%, transparent); color:#fff; }
        
        /* Seasonal Theme - Price List Buttons */
        body[data-theme="spring"] .back-button {
            background: linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%) !important;
        }
        
        body[data-theme="summer"] .back-button {
            background: linear-gradient(135deg, #FF9800 0%, #FFB74D 100%) !important;
        }
        
        body[data-theme="autumn"] .back-button {
            background: linear-gradient(135deg, #FF5722 0%, #FF7043 100%) !important;
        }
        
        body[data-theme="winter"] .back-button {
            background: linear-gradient(135deg, #2196F3 0%, #42A5F5 100%) !important;
        }
        
        /* =========================== */
        /* COMPREHENSIVE THEME SUPPORT */
        /* =========================== */
        
        /* Coffee Theme (Default) - All coffee-themed elements */
        body[data-theme="coffee"] {
            background: linear-gradient(135deg, #8B4513 0%, #A0522D 15%, #D2691E 30%, #CD853F 45%, #DEB887 60%, #F5DEB3 75%, #FFF8DC 90%, #FFFAF0 100%) !important;
        }
        
        body[data-theme="coffee"] .price-list-header { border-bottom:3px solid var(--accent1) !important; }
        body[data-theme="coffee"] .price-list-title { color:var(--accent1) !important; }
        body[data-theme="coffee"] .price-list-subtitle { color:var(--accent2) !important; }
        body[data-theme="coffee"] .price-table th { background: var(--gradient-accent) !important; }
        body[data-theme="coffee"] .beverage-name { color:var(--accent1) !important; }
        body[data-theme="coffee"] .price-cell { color:var(--accent2) !important; }
        
        /* Spring Theme - All coffee elements to spring colors */
        body[data-theme="spring"] {
            background: linear-gradient(135deg, #ff4081 0%, #e91e63 15%, #f06292 30%, #f48fb1 45%, #f8bbd9 60%, #fce4ec 75%, #fce4ec 90%, #fce4ec 100%) !important;
        }
        
        body[data-theme="spring"] .price-list-header {
            border-bottom: 3px solid #ff4081 !important;
        }
        
        body[data-theme="spring"] .price-list-title {
            color: #ff4081 !important;
        }
        
        body[data-theme="spring"] .price-list-subtitle {
            color: #e91e63 !important;
        }
        
        body[data-theme="spring"] .price-table th {
            background: linear-gradient(135deg, #ff4081 0%, #e91e63 100%) !important;
        }
        
        body[data-theme="spring"] .beverage-name {
            color: #ff4081 !important;
        }
        
        body[data-theme="spring"] .price-cell {
            color: #e91e63 !important;
        }
        
        /* Summer Theme - All coffee elements to summer colors */
        body[data-theme="summer"] {
            background: linear-gradient(135deg, #ffa726 0%, #fb8c00 15%, #ffb74d 30%, #ffcc02 45%, #fff59d 60%, #fff9c4 75%, #fffde7 90%, #fffde7 100%) !important;
        }
        
        body[data-theme="summer"] .price-list-header {
            border-bottom: 3px solid #ffa726 !important;
        }
        
        body[data-theme="summer"] .price-list-title {
            color: #ffa726 !important;
        }
        
        body[data-theme="summer"] .price-list-subtitle {
            color: #fb8c00 !important;
        }
        
        body[data-theme="summer"] .price-table th {
            background: linear-gradient(135deg, #ffa726 0%, #fb8c00 100%) !important;
        }
        
        body[data-theme="summer"] .beverage-name {
            color: #ffa726 !important;
        }
        
        body[data-theme="summer"] .price-cell {
            color: #fb8c00 !important;
        }
        
        /* Autumn Theme - All coffee elements to autumn colors */
        body[data-theme="autumn"] {
            background: linear-gradient(135deg, #ff6f00 0%, #e65100 15%, #ff8f00 30%, #ff9800 45%, #ffb74d 60%, #ffcc80 75%, #ffe0b2 90%, #fff3e0 100%) !important;
        }
        
        body[data-theme="autumn"] .price-list-header {
            border-bottom: 3px solid #ff6f00 !important;
        }
        
        body[data-theme="autumn"] .price-list-title {
            color: #ff6f00 !important;
        }
        
        body[data-theme="autumn"] .price-list-subtitle {
            color: #e65100 !important;
        }
        
        body[data-theme="autumn"] .price-table th {
            background: linear-gradient(135deg, #ff6f00 0%, #e65100 100%) !important;
        }
        
        body[data-theme="autumn"] .beverage-name {
            color: #ff6f00 !important;
        }
        
        body[data-theme="autumn"] .price-cell {
            color: #e65100 !important;
        }
        
        /* Winter Theme - All coffee elements to winter colors */
        body[data-theme="winter"] {
            background: linear-gradient(135deg, #0288d1 0%, #01579b 15%, #0277bd 30%, #0288d1 45%, #29b6f6 60%, #81d4fa 75%, #b3e5fc 90%, #e1f5fe 100%) !important;
        }
        
        body[data-theme="winter"] .price-list-header {
            border-bottom: 3px solid #0288d1 !important;
        }
        
        body[data-theme="winter"] .price-list-title {
            color: #0288d1 !important;
        }
        
        body[data-theme="winter"] .price-list-subtitle {
            color: #01579b !important;
        }
        
        body[data-theme="winter"] .price-table th {
            background: linear-gradient(135deg, #0288d1 0%, #01579b 100%) !important;
        }
        
        body[data-theme="winter"] .beverage-name {
            color: #0288d1 !important;
        }
        
        body[data-theme="winter"] .price-cell {
            color: #01579b !important;
        }
    </style>
</head>
<body data-theme="{{ theme|default('coffee') }}" class="theme-{{ theme|default('coffee') }}">
    <div class="container">
        <div class="price-list-container">
            <div class="price-list-header">
                <h1 class="price-list-title">
                    <i class="fas fa-tags"></i> Price List
                </h1>
                <p class="price-list-subtitle">Current prices for all products</p>
            </div>
            
            <div class="table-responsive">
                <table class="table price-table">
                    <thead>
                        <tr>
                            <th>Item</th>
                            <th class="text-center">Price</th>
                            <th class="text-center">Category</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for item in price_data %}
                        <tr>
                            <td class="beverage-name">
                                <strong>{{ item.item.name }}</strong>
                                {% if item.item.description %}
                                    <br><small class="text-muted">{{ item.item.description }}</small>
                                {% endif %}
                            </td>
                            <td class="price-cell">
                                €{{ "%.2f"|format(item.price_euros) }}
                            </td>
                            <td class="text-center">
                                <span class="badge bg-primary">
                                    <i class="fas fa-{{ 'cake' if item.category == 'food' else 'coffee' if item.category == 'drink' else 'cookie' }}"></i> 
                                    {{ item.category.title() }}
                                </span>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            
            {% if not price_data %}
            {% endif %}
            
            <div class="text-center mt-4">
                <a href="{{ url_for('routes.index') }}" class="back-button">
                    <i class="fas fa-arrow-left me-2"></i>Back to Main System
                </a>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Theme Switcher for Price List
        class ThemeSwitcher {
            constructor() {
                this.currentTheme = localStorage.getItem('selectedTheme') || 'coffee';
                this.init();
            }

            init() {
                // Set initial theme
                this.applyTheme(this.currentTheme);
            }

            applyTheme(theme) {
                document.body.setAttribute('data-theme', theme);
            }
        }

        // Initialize theme when page loads
        document.addEventListener('DOMContentLoaded', function() {
            new ThemeSwitcher();
        });
    </script>
    <script src="{{ url_for('static', filename='js/main/theme.js') }}" defer></script>
</body>
</html>
